# Лабораторная работа №16. Интерактивные веб-приложения на JavaScript

## Проект 1: Калькулятор

### 1. Описание проекта

Калькулятор — это интерактивное веб-приложение, реализованное с использованием трёх основных технологий веб-разработки: HTML, CSS и JavaScript. Приложение позволяет выполнять базовые математические операции, валидировать пользовательский ввод и обрабатывать ошибки вычислений.

---

### 2. Функциональность

#### Поддерживаемые операции:
- **Арифметические операции**: сложение (`+`), вычитание (`-`), умножение (`*`), деление (`/`)
- **Работа с числами**: целые числа и дробные числа с плавающей точкой
- **Очистка**: кнопка `C` для сброса текущего выражения
- **Вычисление**: кнопка `=` для получения результата

#### Ограничения:
- Нельзя вводить два оператора подряд (например: `5++3`)
- В одном числе не может быть нескольких точек (например: `5.2.1`)
- Выражение не может начинаться с оператора (кроме унарного минуса `-`)
- Оператор не может стоять в конце выражения

#### Обработка ошибок:
- При попытке деления на ноль отображается сообщение **«Ошибка»**
- При некорректном выражении (синтаксическая ошибка) отображается **«Ошибка»**
- После ошибки калькулятор автоматически сбрасывается при следующем вводе
- Используется конструкция `try...catch` для перехвата исключений

---

### 3. Архитектура

#### Класс `Calculator`:

Класс инкапсулирует всю логику калькулятора и содержит следующие методы:

| Метод | Назначение |
|-------|------------|
| `constructor(displayElement)` | Инициализация: получение ссылки на дисплей, создание переменных состояния |
| `init()` | Привязка обработчиков событий к кнопкам |
| `handleButtonClick(value)` | Обработка нажатия кнопки (распределение действий) |
| `addToExpression(value)` | Добавление символа в выражение с валидацией |
| `calculate()` | Вычисление результата выражения |
| `safeEvaluate(expr)` | Безопасное вычисление с использованием `eval()` |
| `isValidExpression()` | Проверка корректности выражения |
| `clear()` | Очистка состояния калькулятора |
| `updateDisplay()` | Обновление отображения на экране |
| `showError()` | Отображение сообщения об ошибке |
| `isOperator(char)` | Проверка, является ли символ оператором |
| `isLastCharOperator()` | Проверка, является ли последний символ оператором |
| `hasDuplicateDot()` | Проверка наличия точки в текущем числе |



## Проект 2: Крестики-нолики

### 1. Описание игры
**Правила игры**
Крестики-нолики — это классическая стратегическая игра для двух игроков на квадратном поле 3×3. Игроки по очереди ставят свои символы (X или O) в пустые клетки. Начинает игрок с символом X.

**Логика победы/поражения**
Победителем становится игрок, который первым выстроит три своих символа:
- По горизонтали (в строке)
- По вертикали (в столбце)
- По диагонали
- Если все клетки заполнены, но никто не собрал три символа подряд — игра заканчивается ничьей.

 **Особенности реализации**
- Технологии: Реализация выполнена с использованием HTML, CSS и JavaScript
- Адаптивный интерфейс: Игровое поле центрировано, кнопки имеют визуальную обратную связь при наведении
- Динамическое обновление состояния: Статус игры отображается в реальном времени (чей ход, победитель, ничья)
- Кнопка перезапуска: Позволяет начать новую игру без перезагрузки страницы

## 2. Игровая механика
**Как определяется победитель?**
Победитель определяется путём проверки всех 8 возможных выигрышных комбинаций. После каждого хода система сравнивает текущее состояние поля с массивом winConditions. Если все три клетки в одной из комбинаций содержат одинаковый символ («X» или «O»), игрок с этим символом объявляется победителем.

**Как обрабатываются клики?**
- При клике на клетку вызывается функция handleCellClick()
- Функция определяет индекс клетки через атрибут data-index
- Проверяется, что клетка пуста и игра активна
- В массив board записывается символ текущего игрока
- Визуально в клетку добавляется символ «X» или «O»
- Запускается проверка результата хода (checkResult())

**Как работает перезапуск?**
Функция restartGame() выполняет следующие действия:
- Сбрасывает текущего игрока на «X»
- Очищает массив board (все 9 элементов становятся пустыми строками)
- Устанавливает флаг gameActive = true
- Обновляет статус игры на «Ход игрока: X»
- Очищает все клетки игрового поля от символов
- Игра возвращается в исходное состояние, готовое к новой партии

## 4. Алгоритмы
**Алгоритм проверки победы**
1. Перебираются все 8 выигрышных комбинаций из winConditions
2. Для каждой комбинации проверяется, что:
    - Все три клетки не пустые
    - Все три клетки содержат одинаковый символ
3. Если найдена победная комбинация:
    - Устанавливается флаг roundWon = true
    - Обновляется статус игры с именем победителя
    - Игра останавливается (gameActive = false)

**Алгоритм определения ничьи**
1. Проверяется, остались ли пустые клетки в массиве board
2. Если все 9 клеток заполнены (!board.includes("")):
    - Обновляется статус игры на «Ничья!»
    - Игра останавливается (gameActive = false)

**Алгоритм смены игрока**
Если после хода:
- Нет победителя
- Нет ничьей
- Игра продолжается